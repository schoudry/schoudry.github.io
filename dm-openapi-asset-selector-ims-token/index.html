<html>
<head>
    <title>Dynamic Media Open API Asset Selector</title>
</head>
<body>
<div style="width: 100%; height: 100%">
    <h1 style="text-align: center; color: red"> <title>Dynamic Media Open API Asset Selector with IMS Token</title> </h1>
    <div id='asset-selector'></div>
</div>
<script src="https://experience.adobe.com/solutions/CQ-assets-selectors/static-assets/resources/assets-selectors.js"></script>
<script>
    function registerAssetSelector(){
        const apiToken = "eyJhbGciOiJSUzI1NiIsIng1dSI6Imltc19uYTEta2V5LWF0LTEuY2VyIiwia2lkIjoiaW1zX25hMS1rZXktYXQtMSIsIml0dCI6ImF0In0.eyJpZCI6IjE3MjczMDIxMTU2OTVfZDY4MjgxYzUtZDc5MC00MTE1LTkwNWItMmQ3Y2ViM2I4OTJkX3VlMSIsInR5cGUiOiJhY2Nlc3NfdG9rZW4iLCJjbGllbnRfaWQiOiJkZXYtY29uc29sZS1wcm9kIiwidXNlcl9pZCI6IjgwOUQxRjU0NjMxQzEzNEMwQTQ5NUUyRUA4MjllMWViYjYzMWMwNGNmNDk1YzYwLmUiLCJzdGF0ZSI6Ik45MEFMOGk5cVVoRHJiV2VBTVBNcHJrbyIsImFzIjoiaW1zLW5hMSIsImFhX2lkIjoiMDc4QzNFOTA1MjRDOUE1RTBBNDkwRDQ1QEFkb2JlSUQiLCJjdHAiOjAsImZnIjoiWTJDVEZTNkdYUFA3TUhVS0hNUVYyN0FBSUEiLCJzaWQiOiIxNzI2NjY4MzIwNDE0X2ZlZjVjNjU5LWExMDQtNDU2OS1iNmQ3LWUwMDk2MTRhNmNjOV91ZTEiLCJydGlkIjoiMTcyNzMwMjExNTY5Nl9mNmUxYzE1MC04NTViLTQ1YTUtYWE2Ni1hZTM1ODJkZGYyMjVfdWUxIiwibW9pIjoiZWUxOGZkZTAiLCJwYmEiOiJNZWRTZWNOb0VWLExvd1NlYyIsInJ0ZWEiOiIxNzI4NTExNzE1Njk2IiwiZXhwaXJlc19pbiI6Ijg2NDAwMDAwIiwiY3JlYXRlZF9hdCI6IjE3MjczMDIxMTU2OTUiLCJzY29wZSI6IkFkb2JlSUQsb3BlbmlkLHJlYWRfb3JnYW5pemF0aW9ucyxhZGRpdGlvbmFsX2luZm8ucHJvamVjdGVkUHJvZHVjdENvbnRleHQifQ.ADDwlKRVzJ90gkI9Go231PKUS1Wxstn_uRlQ5h6qVpnz9fSQ5kwE3LWYhxEc1qLs-sJesPw2li-WPG6TSpRz8D03xcSah_N476asO5883W3-PeRqmRM779Zip6qw-ztjcM8vm45SHBZXoenaonQ6B61eQvdk4WRC5BdVqtj06D02Zf_mMSZBopwU3ValPA5_DJzSiLMtc17YEEI_uBPDJKrjI049TCkV6iNW8dtrCJk7u21LZsyqyvarVI_Rx0YFFTKu81VrqeGvV7x7zs38TzzNBVVr1HE7NPJF1A0oNxi3U0Dpwu7IXlIrS2wxQ0rj51REyqOXU3017KUsyY99xQ";

        function handleSelection(selection) {
            console.log("Selected asset: ", selection);
        }

        function renderAssetSelectorInline() {
            console.log("initializing Asset Selector");

            const props = {
                "repositoryId": "delivery-p64502-e544757.adobeaemcloud.com",
                "apiKey": "asset_search_service",
                "imsOrg": "2FBC7B975CFE21C40A495FBB@AdobeOrg",
                "imsToken": apiToken,
                handleSelection,
                hideTreeNav: true
            }

            const container = document.getElementById('asset-selector');

            PureJSSelectors.renderAssetSelector(container, props);
        }

        window.addEventListener("load", (event) => {
            //renderAssetSelectorInline();
        });
    }
</script>
</body>
</html>